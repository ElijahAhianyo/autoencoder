# Src Utils

[_Documentation generated by Documatic_](https://www.documatic.com)

<!---Documatic-section-Codebase Structure-start--->
## Codebase Structure

<!---Documatic-block-system_architecture-start--->
```mermaid
None
```
<!---Documatic-block-system_architecture-end--->

# #
<!---Documatic-section-Codebase Structure-end--->

<!---Documatic-section-src.utils.read_word_list-start--->
## [src.utils.read_word_list](3-src_utils.md#src.utils.read_word_list)

<!---Documatic-section-read_word_list-start--->
<!---Documatic-block-src.utils.read_word_list-start--->
<details>
	<summary><code>src.utils.read_word_list</code> code snippet</summary>

```python
def read_word_list(path):
    words = []
    with open(path, 'rb') as f:
        for line in f:
            line = line.decode('utf-8', 'ignore')
            line = line.strip()
            words.append(line)
    return words
```
</details>
<!---Documatic-block-src.utils.read_word_list-end--->
<!---Documatic-section-read_word_list-end--->

# #
<!---Documatic-section-src.utils.read_word_list-end--->

<!---Documatic-section-src.utils.load_binary_data-start--->
## [src.utils.load_binary_data](3-src_utils.md#src.utils.load_binary_data)

<!---Documatic-section-load_binary_data-start--->
```mermaid
flowchart LR
src.utils.load_binary_data-->src.utils.Dataset
```

### Object Calls

* src.utils.Dataset

<!---Documatic-block-src.utils.load_binary_data-start--->
<details>
	<summary><code>src.utils.load_binary_data</code> code snippet</summary>

```python
def load_binary_data(path):
    data = np.load(path)
    if 'sentences' in data:
        return Dataset(data['sentences'], data['sizes'])
    sent_names = sorted((name for name in data.files if name.startswith('sentences')))
    size_names = sorted((name for name in data.files if name.startswith('sizes')))
    sents = []
    sizes = []
    for (sent_name, size_name) in zip(sent_names, size_names):
        sents.append(data[sent_name])
        sizes.append(data[size_name])
    return Dataset(sents, sizes)
```
</details>
<!---Documatic-block-src.utils.load_binary_data-end--->
<!---Documatic-section-load_binary_data-end--->

# #
<!---Documatic-section-src.utils.load_binary_data-end--->

<!---Documatic-section-src.utils.load_text_data-start--->
## [src.utils.load_text_data](3-src_utils.md#src.utils.load_text_data)

<!---Documatic-section-load_text_data-start--->
<!---Documatic-block-src.utils.load_text_data-start--->
<details>
	<summary><code>src.utils.load_text_data</code> code snippet</summary>

```python
def load_text_data(path, word_dict):
    max_len = 0
    all_indices = []
    sizes = []
    with open(path, 'rb') as f:
        for line in f:
            tokens = line.decode('utf-8').split()
            this_len = len(tokens)
            if this_len > max_len:
                max_len = this_len
            sizes.append(this_len)
            inds = [word_dict[token] for token in tokens]
            all_indices.append(inds)
    shape = (len(all_indices), max_len)
    sizes = np.array(sizes)
    matrix = np.full(shape, word_dict.eos_index, np.int32)
    for (i, inds) in enumerate(all_indices):
        matrix[i, :len(inds)] = inds
    return (matrix, sizes)
```
</details>
<!---Documatic-block-src.utils.load_text_data-end--->
<!---Documatic-section-load_text_data-end--->

# #
<!---Documatic-section-src.utils.load_text_data-end--->

[_Documentation generated by Documatic_](https://www.documatic.com)